'use strict';Object.defineProperty(exports,'__esModule',{value:true});var __assign=function(){return __assign=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign.apply(this,arguments)};var DEFAULT_CONFIG={doctypeKey:"doctype",rootKey:"root",tagKey:"name",attrsKey:"attrs",contentKey:"value",childrenKey:"children",lowerCaseTagsContent:!0};var sax=require("sax");function xmlParser(n,t){void 0===n&&(n=""),void 0===t&&(t={});var e=sax.parser(!1,{trim:!0,normalize:!0,lowercase:!0}),o=__assign(__assign({},DEFAULT_CONFIG),t),r=[],i=null,a={},s={ondoctype:function(n){var t=o.doctypeKey,e=n.trim().match(/(\"[^\"]+\")|([^\s]+)/gi);a[t]=e;},onopentag:function(n){var t,e=n.name,s=n.attributes,c=o.tagKey,l=o.childrenKey,u=o.attrsKey,f=o.rootKey,g=((t={})[c]=e,t);this.tag.isSelfClosing&&(g.isSelfClosing=!0);Object.keys(s).length&&(g[u]=s);if(!i)return a[f||e]=i=g;null==i[l]&&(i[l]=[]);r.push(i),i[l].push(i=g);},onclosetag:function(n){i=r.pop();},ontext:function(n){if(!i)return;var t=o.lowerCaseTagsContent?n.trim().toLowerCase():n.trim();i[o.contentKey]=t||null;},oncdata:function(n){if(!i)return;var t=n.trim();t&&(i[o.contentKey]=t);},onclosecdata:function(){null==i[o.contentKey]&&(i[o.contentKey]=null);},onerror:function(n){console.error(n);}};return Object.assign(e,s),e.write(n).close(),a}var NodeModel=function(){function e(e){this.name=e.name,this.attrs=e.attrs,this.value=e.value,this.isSelfClosing=e.isSelfClosing,this.children=e.children;}return e.prototype.findNode=function(e){return this.children.find((function(t){return t.name==e}))},e.prototype.getChildValue=function(e){var t=this.findNode(e);if(t&&null!=t.value)return t.value},e}();exports.NodeModel=NodeModel;exports.parse=xmlParser;